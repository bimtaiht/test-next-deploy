{"ast":null,"code":"import { Post } from \"src/models\";\nimport { connectToDatabase } from \"src/utils\";\nexport default async function getPosts(req, res) {\n  try {\n    await connectToDatabase();\n    const posts = await Post.find();\n    res.json(posts);\n  } catch (err) {\n    console.log(err);\n    res.status(500).send(\"error\");\n  }\n}","map":{"version":3,"sources":["D:/0. Tai/Work/Code/test/test-next/test-next-frontend/test-nextjs/pages/api/post/index.ts"],"names":["Post","connectToDatabase","getPosts","req","res","posts","find","json","err","console","log","status","send"],"mappings":"AAIA,SAASA,IAAT,QAAqB,YAArB;AACA,SAASC,iBAAT,QAAkC,WAAlC;AAEA,eAAe,eAAeC,QAAf,CACbC,GADa,EAEbC,GAFa,EAGb;AACA,MAAI;AACF,UAAMH,iBAAiB,EAAvB;AAEA,UAAMI,KAAK,GAAG,MAAML,IAAI,CAACM,IAAL,EAApB;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAASF,KAAT;AACD,GALD,CAKE,OAAOG,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB;AACD;AACF","sourcesContent":["import {\r\n  NextApiRequest,\r\n  NextApiResponse,\r\n} from \"next\";\r\nimport { Post } from \"src/models\";\r\nimport { connectToDatabase } from \"src/utils\";\r\n\r\nexport default async function getPosts(\r\n  req: NextApiRequest,\r\n  res: NextApiResponse\r\n) {\r\n  try {\r\n    await connectToDatabase();\r\n    \r\n    const posts = await Post.find()\r\n    res.json(posts)\r\n  } catch (err) {\r\n    console.log(err);\r\n    res.status(500).send(\"error\");\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}