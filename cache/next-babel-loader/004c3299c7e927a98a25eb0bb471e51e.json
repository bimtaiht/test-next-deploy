{"ast":null,"code":"import { Post } from 'src/models';\nimport { connectToDatabase } from 'src/utils';\nexport default async function createPost(req, res) {\n  if (req.method === 'POST') {\n    try {\n      await connectToDatabase();\n      const body = req.body;\n      const newPost = new Post(body);\n      const saved = await newPost.save();\n      res.send(saved);\n    } catch (err) {\n      console.log(err);\n      res.status(500).send('error');\n    }\n  } else {\n    res.status(405).json({\n      message: 'Method not allowed'\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module"}